<ion-header>
  <ion-toolbar class="new-background-color">
    <ion-buttons slot="start">
      <ion-back-button style="color:#fff;"></ion-back-button>
    </ion-buttons>
    <ion-title class="title" slot="start" size="small" style="color:#fff;">Add Recipe</ion-title>
    <ion-buttons slot="end">
      <ion-button color="sec" routerLink="/search-result"> <img src="/assets/icon/search.png"
          style="width: 22px;"></ion-button>
      <ion-button color="sec" routerLink="/chat-list"> <img src="/assets/icon/chat.png" style="width: 24px;">
      </ion-button>
      <ion-button color="sec" routerLink="/notifications"> <img src="/assets/icon/bell.png" style="width: 24px;">
        <ion-badge class="setbegde">{{notificationCount}}</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <form (ngSubmit)="f.form.valid && AddRecipe()" #f="ngForm">
    <div class="form">
      <div class="form-group">
        <label>Title</label>
        <ion-input type="text" id="title" name="title" [(ngModel)]="form.title" #title="ngModel"
          class="form_control_event" placeholder="Title" required></ion-input>
        <label class="text-danger" *ngIf="(!f.submitted && !title.untouched && title.invalid) || (f.submitted && title.invalid)">Enter Title</label>
      </div>
      <div class="form-group">
        <label>Category</label>
        <ion-select expand="full" class="form_control_event" interface="popover" [(ngModel)]="form.post_category_id"
          #post_category_id="ngModel" name="post_category_id" required>
          <ion-select-option value>Select</ion-select-option>
          <ion-select-option value="4">Personal</ion-select-option>
          <ion-select-option value="3">community</ion-select-option>
          <ion-select-option value="2">Vageterain</ion-select-option>
          <ion-select-option value="1">blog cate</ion-select-option>
          <ion-select-option value="0">Others</ion-select-option>
        </ion-select>
        <label class="text-danger" *ngIf="(!f.submitted && !post_category_id.untouched && post_category_id.invalid) || (f.submitted && post_category_id.invalid)">Enter Category</label>
      </div>
      <div class="form-group">
        <label>Tags</label>
        <ion-input type="text" id="tags" name="tags" [(ngModel)]="form.tags" #tags="ngModel" class="form_control_event"
          placeholder="Tags" required></ion-input>
        <label class="text-danger" *ngIf="(!f.submitted && !tags.untouched && tags.invalid) || (f.submitted && tags.invalid)">Enter Tags</label>
      </div>
      <div class="form-group">
        <label>Location</label>
        <ion-input type="text" id="location" name="location" [(ngModel)]="form.location" #location="ngModel"
          class="form_control_event pac-target-input" placeholder="Location" autocomplete="off" required></ion-input>
          <label class="text-danger" *ngIf="(!f.submitted && !location.untouched && location.invalid) || (f.submitted && location.invalid)">Enter Location</label>
      </div>
      <div class="form-group">
        <label>Image</label>
        <img (click)="chooseImage()" class="image" *ngIf="form.image" src="{{form.image}}">
        <ion-badge *ngIf="form.image" (click)="form.image = null"><ion-icon
            name="close-circle-outline"></ion-icon></ion-badge>
        <button *ngIf="!form.image" class="choose_image" (click)="chooseImage()">Choose Image</button>
      </div>
      <div class="form-group">
        <label>Add Gallery Image</label><br>
        <div *ngFor="let data of form.galleryimage;let i = index">
          <img class="image" src="{{data}}">
          <ion-badge (click)="removeImage(i)"><ion-icon name="close-circle-outline"></ion-icon></ion-badge>
        </div>
        <button class="choose_image" (click)="chooseMultiImage()">Choose Image</button>
      </div>
      <div class="form-group">
        <label>Video</label>
        <video (click)="chooseVideo()" class="image" *ngIf="form.videofile" src="{{form.videofile}}"></video>
        <ion-badge *ngIf="form.videofile" (click)="form.videofile = null"><ion-icon
            name="close-circle-outline"></ion-icon></ion-badge>
        <button (click)="chooseVideo()" *ngIf="!form.videofile" class="choose_image">Choose Video</button>
      </div>
      <div class="form-group">
        <label>Detail</label>
      </div>
      <div class="form-group">
        <quill-editor [required]="true" name="detail" [(ngModel)]="form.detail" #detail="ngModel"></quill-editor>
        <label class="text-danger" *ngIf="(!f.submitted && !detail.untouched && detail.invalid) || (f.submitted && detail.invalid)">Enter Detail</label>
      </div>
      <div class="form-group">
        <label>Steps</label>
        <ion-textarea style="margin: 10px 0px;" id="steps" name="steps" required [(ngModel)]="form.steps" #steps="ngModel" class="textarea_event"
          placeholder="Steps"></ion-textarea>
          <label class="text-danger" *ngIf="(!f.submitted && !steps.untouched && steps.invalid) || (f.submitted && steps.invalid)">Enter Steps</label>
      </div>
      <div class="form-group">
        <label>Ingredients</label>
        <ion-textarea style="margin: 10px 0px;" [(ngModel)]="form.ingredients" required #ingredients="ngModel" class="textarea_event" id="ingredients"
          name="ingredients" placeholder="Ingredients" required></ion-textarea>
          <label class="text-danger" *ngIf="(!f.submitted && !ingredients.untouched && ingredients.invalid) || (f.submitted && ingredients.invalid)">Enter Ingredients</label>
      </div>
      <div class="form-group">
        <label>Cooking Time</label>
        <ion-input type="text" id="cooking_time" required name="cooking_time" [(ngModel)]="form.cooking_time"
          #cooking_time="ngModel" class="form_control_event" placeholder="Cooking Time"></ion-input>
          <label class="text-danger" *ngIf="(!f.submitted && !cooking_time.untouched && cooking_time.invalid) || (f.submitted && cooking_time.invalid)">Enter Cooking Time</label>
      </div>
      <div class="save_changes">
        <button type="submit">Save changes</button>
      </div>
    </div>
  </form>
</ion-content>